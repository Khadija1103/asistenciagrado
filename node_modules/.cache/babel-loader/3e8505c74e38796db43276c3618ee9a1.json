{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Familia\\\\Desktop\\\\GradoAsistencia\\\\src\\\\components\\\\pie\\\\pie.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './cajapie.css';\nimport { Pie } from 'react-chartjs-2';\nimport { db } from '../../firebase';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Cajapie() {\n  _s();\n\n  const [links, setLinks] = useState([]);\n  const dato = {\n    Mujer: 0,\n    Hombre: 0,\n    Otros: 0\n  };\n  const [datos, setDatos] = useState([]);\n  const values = [];\n\n  const getLinks = async () => {\n    db.collection(\"asistentes\").onSnapshot(querySnapshot => {\n      const docs = [];\n      querySnapshot.forEach(doc => {\n        docs.push({ ...doc.data(),\n          id: doc.id\n        });\n        console.log(doc.data().rol);\n        dato[doc.data().rol] += 1;\n      });\n      setLinks(docs);\n      console.log(dato.genero);\n\n      for (let genero in dato) {\n        values.push(dato[genero]);\n      }\n\n      setDatos(values);\n    });\n  };\n\n  useEffect(() => {\n    getLinks();\n    console.log(dato);\n    console.log(values);\n  }, []);\n  const data = {\n    labels: ['Mujer', 'Hombre', 'Otros'],\n    datasets: [{\n      label: '',\n      backgroundColor: ['#FF3A01', 'blue', 'green'],\n      data: datos\n    }]\n  };\n  const opciones = {\n    responsive: true\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cajapie\",\n    children: /*#__PURE__*/_jsxDEV(Pie, {\n      data: data,\n      options: opciones\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 1\n  }, this);\n}\n\n_s(Cajapie, \"Aqpup5hO4pY2KSFdIgMxn7wrY1g=\");\n\n_c = Cajapie;\nexport default Cajapie;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cajapie\");","map":{"version":3,"sources":["C:/Users/Familia/Desktop/GradoAsistencia/src/components/pie/pie.js"],"names":["React","useEffect","useState","Pie","db","Link","Cajapie","links","setLinks","dato","Mujer","Hombre","Otros","datos","setDatos","values","getLinks","collection","onSnapshot","querySnapshot","docs","forEach","doc","push","data","id","console","log","rol","genero","labels","datasets","label","backgroundColor","opciones","responsive"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,eAAP;AACA,SAAQC,GAAR,QAAiB,iBAAjB;AACA,SAAQC,EAAR,QAAiB,gBAAjB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;;;AAEA,SAASC,OAAT,GAAmB;AAAA;;AAEjB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;AACE,QAAMO,IAAI,GAAG;AACTC,IAAAA,KAAK,EAAC,CADG;AAETC,IAAAA,MAAM,EAAC,CAFE;AAGTC,IAAAA,KAAK,EAAC;AAHG,GAAb;AAQA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMa,MAAM,GAAE,EAAd;;AACA,QAAMC,QAAQ,GAAG,YAAY;AACzBZ,IAAAA,EAAE,CAACa,UAAH,CAAc,YAAd,EAA4BC,UAA5B,CAAwCC,aAAD,IAAmB;AACtD,YAAMC,IAAI,GAAG,EAAb;AACLD,MAAAA,aAAa,CAACE,OAAd,CAAwBC,GAAD,IAAS;AAC5BF,QAAAA,IAAI,CAACG,IAAL,CAAU,EAAC,GAAGD,GAAG,CAACE,IAAJ,EAAJ;AAAgBC,UAAAA,EAAE,EAACH,GAAG,CAACG;AAAvB,SAAV;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYL,GAAG,CAACE,IAAJ,GAAWI,GAAvB;AACCnB,QAAAA,IAAI,CAACa,GAAG,CAACE,IAAJ,GAAWI,GAAZ,CAAJ,IAAsB,CAAtB;AACJ,OAJD;AAKApB,MAAAA,QAAQ,CAACY,IAAD,CAAR;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYlB,IAAI,CAACoB,MAAjB;;AACA,WAAI,IAAIA,MAAR,IAAkBpB,IAAlB,EAAuB;AACtBM,QAAAA,MAAM,CAACQ,IAAP,CAAYd,IAAI,CAACoB,MAAD,CAAhB;AACA;;AACDf,MAAAA,QAAQ,CAACC,MAAD,CAAR;AACF,KAbG;AAcH,GAfD;;AAiBAd,EAAAA,SAAS,CAAE,MAAI;AACbe,IAAAA,QAAQ;AACRU,IAAAA,OAAO,CAACC,GAAR,CAAYlB,IAAZ;AACAiB,IAAAA,OAAO,CAACC,GAAR,CAAYZ,MAAZ;AACH,GAJU,EAIR,EAJQ,CAAT;AAME,QAAMS,IAAI,GAAC;AACTM,IAAAA,MAAM,EAAC,CAAC,OAAD,EAAS,QAAT,EAAkB,OAAlB,CADE;AAETC,IAAAA,QAAQ,EAAC,CAAC;AACVC,MAAAA,KAAK,EAAC,EADI;AAEVC,MAAAA,eAAe,EAAC,CAAC,SAAD,EAAY,MAAZ,EAAoB,OAApB,CAFN;AAGVT,MAAAA,IAAI,EAACX;AAHK,KAAD;AAFA,GAAX;AAWN,QAAMqB,QAAQ,GAAC;AACXC,IAAAA,UAAU,EAAC;AADA,GAAf;AAGE,sBAEF;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA,2BACE,QAAC,GAAD;AAAK,MAAA,IAAI,EAAEX,IAAX;AAAiB,MAAA,OAAO,EAAEU;AAA1B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UAFE;AAQD;;GA1DQ5B,O;;KAAAA,O;AA4DT,eAAeA,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './cajapie.css';\r\nimport {Pie} from'react-chartjs-2';\r\nimport {db} from '../../firebase'\r\nimport {Link} from 'react-router-dom';\r\n\r\nfunction Cajapie() {\r\n\r\n  const [links, setLinks] = useState([]) \r\n    const dato = {\r\n        Mujer:0,\r\n        Hombre:0,\r\n        Otros:0,\r\n      \r\n        \r\n    }\r\n\r\n    const [datos, setDatos] = useState([])\r\n    const values =[] \r\n    const getLinks = async () => { \r\n        db.collection(\"asistentes\").onSnapshot((querySnapshot) => { \r\n            const docs = [];\r\n       querySnapshot.forEach ((doc) => {\r\n           docs.push({...doc.data(), id:doc.id});\r\n           console.log(doc.data().rol)\r\n            dato[doc.data().rol]+=1 \r\n       });\r\n       setLinks(docs);\r\n       console.log(dato.genero)\r\n       for(let genero in dato){\r\n        values.push(dato[genero])\r\n       }\r\n       setDatos(values)\r\n    });\r\n    };\r\n\r\n    useEffect( ()=>{\r\n      getLinks()\r\n      console.log(dato)\r\n      console.log(values)\r\n  }, [])\r\n\r\n      const data={\r\n        labels:['Mujer','Hombre','Otros'],\r\n        datasets:[{\r\n        label:'',\r\n        backgroundColor:['#FF3A01', 'blue', 'green'],\r\n        data:datos,  \r\n        }]\r\n\r\n        \r\n      };\r\n\r\nconst opciones={\r\n    responsive:true\r\n}\r\n  return (\r\n   \r\n<div className=\"cajapie\">\r\n  <Pie data={data} options={opciones}/>\r\n</div>\r\n \r\n   \r\n  );\r\n}\r\n\r\nexport default Cajapie;"]},"metadata":{},"sourceType":"module"}