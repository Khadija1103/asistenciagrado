{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Familia\\\\Desktop\\\\GradoAsistencia\\\\src\\\\components\\\\pie\\\\pie.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './cajapie.css';\nimport { Pie } from 'react-chartjs-2';\nimport { db } from '../../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Cajapie() {\n  _s();\n\n  const [links, setLinks] = useState([]);\n  const dato = {\n    Femenino: 0,\n    Masculino: 0,\n    Otros: 0\n  };\n  const [datos, setDatos] = useState([]);\n  const values = [];\n\n  const getLinks = async () => {\n    db.collection(\"asistentes\").onSnapshot(querySnapshot => {\n      const docs = [];\n      querySnapshot.forEach(doc => {\n        docs.push({ ...doc.data(),\n          id: doc.id\n        });\n        console.log(doc.data().genero);\n        dato[doc.data().genero] += 1;\n      });\n      setLinks(docs);\n      console.log(dato.Femenino);\n\n      for (let usuario in dato) {\n        values.push(dato[usuario]);\n      }\n\n      setDatos(values);\n      setLinks(docs);\n      console.log(dato.Masculino);\n\n      for (let usuario in dato) {\n        values.push(dato[usuario]);\n      }\n\n      setDatos(values);\n      setLinks(docs);\n      console.log(dato.otro);\n\n      for (let usuario in dato) {\n        values.push(dato[usuario]);\n      }\n\n      setDatos(values);\n    });\n  };\n\n  useEffect(() => {\n    getLinks();\n    console.log(dato);\n    console.log(values);\n  }, []);\n  const data = {\n    labels: ['Femenino', 'Masculino', 'Otros'],\n    datasets: [{\n      label: '',\n      backgroundColor: ['#FF3A01', 'blue', 'green'],\n      data: datos\n    }]\n  };\n  const opciones = {\n    responsive: true\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cajapie\",\n    children: /*#__PURE__*/_jsxDEV(Pie, {\n      data: data,\n      options: opciones\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 1\n  }, this);\n}\n\n_s(Cajapie, \"Aqpup5hO4pY2KSFdIgMxn7wrY1g=\");\n\n_c = Cajapie;\nexport default Cajapie;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cajapie\");","map":{"version":3,"sources":["C:/Users/Familia/Desktop/GradoAsistencia/src/components/pie/pie.js"],"names":["React","useEffect","useState","Pie","db","Cajapie","links","setLinks","dato","Femenino","Masculino","Otros","datos","setDatos","values","getLinks","collection","onSnapshot","querySnapshot","docs","forEach","doc","push","data","id","console","log","genero","usuario","otro","labels","datasets","label","backgroundColor","opciones","responsive"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './cajapie.css';\r\nimport {Pie} from'react-chartjs-2';\r\nimport {db} from '../../firebase'\r\n\r\n\r\nfunction Cajapie() {\r\n\r\n  const [links, setLinks] = useState([]) \r\n  const dato = {\r\n        Femenino:0,\r\n        Masculino:0,\r\n        Otros:0,\r\n      \r\n        \r\n    }\r\n\r\n    const [datos, setDatos] = useState([])\r\n    const values =[] \r\n    const getLinks = async () => { \r\n        db.collection(\"asistentes\").onSnapshot((querySnapshot) => { \r\n            const docs = [];\r\n       querySnapshot.forEach ((doc) => {\r\n           docs.push({...doc.data(), id:doc.id});\r\n           console.log(doc.data().genero)\r\n            dato[doc.data().genero]+=1 \r\n       });\r\n       setLinks(docs);\r\n       console.log(dato.Femenino)\r\n       for(let usuario in dato){\r\n           values.push(dato[usuario])\r\n       }\r\n       setDatos(values)\r\n\r\n       setLinks(docs);\r\n       console.log(dato.Masculino)\r\n       for(let usuario in dato){\r\n           values.push(dato[usuario])\r\n       }\r\n       setDatos(values)\r\n\r\n       setLinks(docs);\r\n       console.log(dato.otro)\r\n       for(let usuario in dato){\r\n           values.push(dato[usuario])\r\n       }\r\n       setDatos(values)\r\n    });\r\n   \r\n\r\n    };\r\n\r\n    useEffect( ()=>{\r\n      getLinks()\r\n      console.log(dato)\r\n      console.log(values)\r\n  }, [])\r\n\r\n      const data={\r\n        labels:['Femenino','Masculino','Otros'],\r\n        datasets:[{\r\n        label:'',\r\n        backgroundColor:['#FF3A01', 'blue', 'green'],\r\n        data:datos,  \r\n        }]\r\n\r\n        \r\n      };\r\n\r\nconst opciones={\r\n    responsive:true\r\n}\r\n  return (\r\n   \r\n<div className=\"cajapie\">\r\n  <Pie data={data} options={opciones}/>\r\n</div>\r\n \r\n   \r\n  );\r\n}\r\n\r\nexport default Cajapie;"]},"metadata":{},"sourceType":"module"}