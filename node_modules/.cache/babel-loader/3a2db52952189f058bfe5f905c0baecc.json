{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Familia\\\\Desktop\\\\GradoAsistencia\\\\src\\\\components\\\\pie\\\\pie.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './cajapie.css';\nimport { Pie } from 'react-chartjs-2';\nimport { db } from '../../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Cajapie() {\n  _s();\n\n  const [links, setLinks] = useState([]);\n  /*Definimos un arreglo vacío*/\n\n  const dato = {\n    Mujer: 0,\n    Hombre: 0,\n    Otros: 0\n  };\n  const [datos, setDatos] = useState([]);\n  const values = [];\n  /*Array vacío*/\n\n  const getLinks = async () => {\n    /*IMPORTANTE*/\n    db.collection(\"asistentes\").onSnapshot(querySnapshot => {\n      const docs = [];\n      querySnapshot.forEach(doc => {\n        docs.push({ ...doc.data(),\n          id: doc.id\n        });\n        console.log(doc.data().rol);\n        dato[doc.data().rol] += 1;\n      });\n      setLinks(docs);\n      console.log(dato.Mujer);\n\n      for (let usuario in dato) {\n        values.push(dato[usuario]);\n      }\n\n      setDatos(values);\n    });\n  };\n\n  const data = {\n    labels: ['Mujer', 'Hombre', 'Otros'],\n    datasets: [{\n      data: [8, 5, 2],\n      backgroundColor: ['#EF7F3F', 'blue', 'green']\n    }]\n  };\n  const opciones = {\n    responsive: true\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cajapie\",\n    children: /*#__PURE__*/_jsxDEV(Pie, {\n      data: data,\n      options: opciones\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 1\n  }, this);\n}\n\n_s(Cajapie, \"KQ+9zAUd95mCe4Moo1SKNKBdcMc=\");\n\n_c = Cajapie;\nexport default Cajapie;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cajapie\");","map":{"version":3,"sources":["C:/Users/Familia/Desktop/GradoAsistencia/src/components/pie/pie.js"],"names":["React","useEffect","useState","Pie","db","Cajapie","links","setLinks","dato","Mujer","Hombre","Otros","datos","setDatos","values","getLinks","collection","onSnapshot","querySnapshot","docs","forEach","doc","push","data","id","console","log","rol","usuario","labels","datasets","backgroundColor","opciones","responsive"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,eAAP;AACA,SAAQC,GAAR,QAAiB,iBAAjB;AACA,SAAQC,EAAR,QAAiB,gBAAjB;;;AAGA,SAASC,OAAT,GAAmB;AAAA;;AAEjB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,EAAD,CAAlC;AAAuC;;AACrC,QAAMM,IAAI,GAAG;AACTC,IAAAA,KAAK,EAAC,CADG;AAETC,IAAAA,MAAM,EAAC,CAFE;AAGTC,IAAAA,KAAK,EAAC;AAHG,GAAb;AAQA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMY,MAAM,GAAE,EAAd;AAAiB;;AACjB,QAAMC,QAAQ,GAAG,YAAY;AAAE;AAC3BX,IAAAA,EAAE,CAACY,UAAH,CAAc,YAAd,EAA4BC,UAA5B,CAAwCC,aAAD,IAAmB;AACtD,YAAMC,IAAI,GAAG,EAAb;AACLD,MAAAA,aAAa,CAACE,OAAd,CAAwBC,GAAD,IAAS;AAC5BF,QAAAA,IAAI,CAACG,IAAL,CAAU,EAAC,GAAGD,GAAG,CAACE,IAAJ,EAAJ;AAAgBC,UAAAA,EAAE,EAACH,GAAG,CAACG;AAAvB,SAAV;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYL,GAAG,CAACE,IAAJ,GAAWI,GAAvB;AACCnB,QAAAA,IAAI,CAACa,GAAG,CAACE,IAAJ,GAAWI,GAAZ,CAAJ,IAAsB,CAAtB;AACJ,OAJD;AAKApB,MAAAA,QAAQ,CAACY,IAAD,CAAR;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYlB,IAAI,CAACC,KAAjB;;AACA,WAAI,IAAImB,OAAR,IAAmBpB,IAAnB,EAAwB;AACpBM,QAAAA,MAAM,CAACQ,IAAP,CAAYd,IAAI,CAACoB,OAAD,CAAhB;AACH;;AACDf,MAAAA,QAAQ,CAACC,MAAD,CAAR;AACF,KAbG;AAcH,GAfD;;AAgBE,QAAMS,IAAI,GAAC;AACTM,IAAAA,MAAM,EAAC,CAAC,OAAD,EAAS,QAAT,EAAkB,OAAlB,CADE;AAETC,IAAAA,QAAQ,EAAC,CAAC;AACVP,MAAAA,IAAI,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADI;AAEVQ,MAAAA,eAAe,EAAC,CAAC,SAAD,EAAY,MAAZ,EAAoB,OAApB;AAFN,KAAD;AAFA,GAAX;AAQN,QAAMC,QAAQ,GAAC;AACXC,IAAAA,UAAU,EAAC;AADA,GAAf;AAGE,sBAEF;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA,2BACE,QAAC,GAAD;AAAK,MAAA,IAAI,EAAEV,IAAX;AAAiB,MAAA,OAAO,EAAES;AAA1B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UAFE;AAQD;;GAhDQ3B,O;;KAAAA,O;AAkDT,eAAeA,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './cajapie.css';\r\nimport {Pie} from'react-chartjs-2';\r\nimport {db} from '../../firebase'\r\n\r\n\r\nfunction Cajapie() {\r\n\r\n  const [links, setLinks] = useState([]) /*Definimos un arreglo vacío*/\r\n    const dato = {\r\n        Mujer:0,\r\n        Hombre:0,\r\n        Otros:0,\r\n      \r\n        \r\n    }\r\n\r\n    const [datos, setDatos] = useState([])\r\n    const values =[] /*Array vacío*/ \r\n    const getLinks = async () => { /*IMPORTANTE*/ \r\n        db.collection(\"asistentes\").onSnapshot((querySnapshot) => { \r\n            const docs = [];\r\n       querySnapshot.forEach ((doc) => {\r\n           docs.push({...doc.data(), id:doc.id});\r\n           console.log(doc.data().rol)\r\n            dato[doc.data().rol]+=1 \r\n       });\r\n       setLinks(docs);\r\n       console.log(dato.Mujer)\r\n       for(let usuario in dato){\r\n           values.push(dato[usuario])\r\n       }\r\n       setDatos(values)\r\n    });\r\n    };\r\n      const data={\r\n        labels:['Mujer','Hombre','Otros'],\r\n        datasets:[{\r\n        data: [8, 5, 2],\r\n        backgroundColor:['#EF7F3F', 'blue', 'green']\r\n        }]\r\n      };\r\n\r\nconst opciones={\r\n    responsive:true\r\n}\r\n  return (\r\n   \r\n<div className=\"cajapie\">\r\n  <Pie data={data} options={opciones}/>\r\n</div>\r\n \r\n   \r\n  );\r\n}\r\n\r\nexport default Cajapie;"]},"metadata":{},"sourceType":"module"}